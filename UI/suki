local function getExecutor()
	return identifyexecutor and identifyexecutor()
		or (syn and "Synapse")
		or (fluxus and "Fluxus")
		or (KRNL_LOADED and "KRNL")
		or "Unknown"
end
local exec = getExecutor()

local function CheckSpy()
	local isSpy = false
	
	if rawget(getgenv(), "ReGui") then print("ReGui true") isSpy = true end
	if rawget(getgenv(), "Hook") then print("Hook true") isSpy = true end
	if rawget(getgenv(), "Http") then print("Http true") isSpy = true end
	if rawget(_G, "HttpSpy") then print("_G HttpSpy true") isSpy = true end
	if rawget(_G, "SimpleSpy") then print("_G SimpleSpy true") isSpy = true end
	if rawget(_G, "Hydroxide") then print("Hydroxide true") isSpy = true end
	if rawget(getgenv(), "HttpSpy") then print("getgenv HttpSpy true") isSpy = true end
	if rawget(getgenv(), "SimpleSpy") then print("getgenv SimpleSpy true") isSpy = true end
	
	local gameData = rawget(getgenv(), "game")
	if gameData and typeof(gameData) == "userdata" then
		local meta = getmetatable(gameData)
		if meta and rawget(meta, "__index") and typeof(rawget(meta, "__index")) == "function" then
			print("game __index terdeteksi")
			isSpy = true
		end
	end
	
	local GameData = rawget(getgenv(), "Game")
	if GameData and typeof(GameData) == "userdata" then
		local meta = getmetatable(GameData)
		if meta and rawget(meta, "__index") and typeof(rawget(meta, "__index")) == "function" then
			print("Game __index terdeteksi")
			isSpy = true
		end
	end
	
	local requestFunc = rawget(getgenv(), "request")
	if requestFunc and exec ~= "Solara" then
		local source = debug.info(requestFunc, "s")
		print("request source:", source)
		if source and source ~= "[C]" then
			print("request bukan dari C")
			isSpy = true
		end
	end
	
	if rawget(getgenv(), "UrlIntercepts") then 
		print("UrlIntercepts terdeteksi")
		isSpy = true 
	end
	
	print("Final isSpy:", isSpy)
	return isSpy
end

if CheckSpy() then
	print("hell nah")
	return
end

local game = game
local request = rawget(getgenv(), "request") or rawget(getgenv(), "http_request")

local player = game:GetService("Players").LocalPlayer
local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")
local HttpService = game:GetService("HttpService")
local RbxAnalyticsService = game:GetService("RbxAnalyticsService")
ReyHubKeyy = false
local verifyKey
local wu = "https://discord.com/api/webhooks/1467891272290275562/LI9HjRTmoueswsblJoellwiG_qqpG3Axyau7SpgHNMqM8ljaskW1BCJ9aQv9k-CGLeKq"
local ReyHubKeyless = false

print("geez")
local function SzaFeHttpR(options)
	if type(options) ~= "table" then return nil end

	local url = tostring(options.Url or "")
	if url == "" then return nil end

	local method = string.upper(tostring(options.Method or "GET"))
	local headers = type(options.Headers) == "table" and options.Headers or {}
	local body = options.Body

	local function normalize(res)
		if type(res) == "table" then
			return {
				Body = res.Body,
				StatusCode = res.StatusCode or 0,
				Success = res.Success ~= false
			}
		elseif type(res) == "string" then
			return { Body = res, StatusCode = 200, Success = true }
		end
	end

	local function attempt(fn)
		local ok, res = pcall(fn)
		if ok and res then
			return normalize(res)
		end
	end
	
	local executorFirst = 
		attempt(function() return request and request(options) end) or
		attempt(function() return http and http.request(options) end) or
		attempt(function() return http_request and http_request(options) end) or
		attempt(function() return syn and syn.request(options) end) or
		attempt(function() return fluxus and fluxus.request(options) end)
	
	if executorFirst then
		return executorFirst
	end

	if method == "GET" then
		return attempt(function()
			return HttpService:GetAsync(url, false, headers)
		end) or attempt(function()
			return game:HttpGetAsync(url)
		end)

	elseif method == "POST" then
		local contentType = headers["Content-Type"] or "application/json"

		return attempt(function()
			return HttpService:PostAsync(url, body or "", contentType, false, headers)
		end) or attempt(function()
			return HttpService:RequestAsync({
				Url = url,
				Method = "POST",
				Headers = headers,
				Body = body
			})
		end) or attempt(function()
			return game:HttpPostAsync(url, body, contentType)
		end)
	end

	return nil
end

local hR = SzaFeHttpR

local testResult = hR({Url = "https://httpbin.org/status/200", Method = "GET"})
if not testResult then
	warn("HTTP Request not available")
	return
end


local function Create(className, properties)
	local instance = Instance.new(className)
	for property, value in pairs(properties) do
		if property ~= "Parent" then
			instance[property] = value
		end
	end
	if properties.Parent then
		instance.Parent = properties.Parent
	end
	return instance
end

if CoreGui:FindFirstChild("ReyHubKeySystem") then
	CoreGui.ReyHubKeySystem:Destroy()
end

local screenGui = Create("ScreenGui", {
	Name = "ReyHubKeySystem",
	IgnoreGuiInset = true,
	ResetOnSpawn = false,
	Parent = CoreGui
})

local background = Create("Frame", {
	Size = UDim2.new(1, 0, 1, 0),
	BackgroundColor3 = Color3.fromRGB(0, 0, 0),
	BackgroundTransparency = 0.5,
	Parent = screenGui
})

local container = Create("Frame", {
	AnchorPoint = Vector2.new(0.5, 0.5),
	Size = UDim2.new(0, 0, 0, 0),
	Position = UDim2.new(0.5, 0, 0.5, 0),
	BackgroundColor3 = Color3.fromRGB(25, 25, 35),
	BackgroundTransparency = 0.1,
	ClipsDescendants = true,
	Parent = background
})

Create("UICorner", {
	CornerRadius = UDim.new(0, 16),
	Parent = container
})

local stroke = Create("UIStroke", {
	Color = Color3.fromRGB(148, 0, 211),
	Thickness = 2,
	Transparency = 1,
	Parent = container
})

local logo = Create("ImageLabel", {
	Size = UDim2.new(0, 120, 0, 120),
	AnchorPoint = Vector2.new(0.5, 0.5),
	Position = UDim2.new(0.5, 0, 0.2, 0),
	BackgroundTransparency = 1,
	Image = "rbxassetid://84687062999466",
	ImageColor3 = Color3.fromRGB(148, 0, 211),
	ImageTransparency = 1,
	Parent = container
})

local title = Create("TextLabel", {
	Size = UDim2.new(1, 0, 0, 40),
	Position = UDim2.new(0, 0, 0.38, 0),
	BackgroundTransparency = 1,
	Text = "Rey Hub",
	Font = Enum.Font.GothamBold,
	TextColor3 = Color3.fromRGB(255, 255, 255),
	TextSize = 32,
	TextTransparency = 1,
	Parent = container
})

local subtitle = Create("TextLabel", {
	Size = UDim2.new(1, 0, 0, 20),
	Position = UDim2.new(0, 0, 0.48, 0),
	BackgroundTransparency = 1,
	Text = "Key System",
	Font = Enum.Font.Gotham,
	TextColor3 = Color3.fromRGB(200, 200, 200),
	TextSize = 16,
	TextTransparency = 1,
	Parent = container
})

local inputBg = Create("Frame", {
	Size = UDim2.new(0.8, 0, 0, 50),
	Position = UDim2.new(0.1, 0, 0.57, 0),
	BackgroundColor3 = Color3.fromRGB(40, 40, 50),
	BackgroundTransparency = 0.2,
	Parent = container
})

Create("UICorner", {
	CornerRadius = UDim.new(0, 8),
	Parent = inputBg
})

Create("UIStroke", {
	Color = Color3.fromRGB(80, 80, 100),
	Thickness = 1,
	Parent = inputBg
})

local keyInput = Create("TextBox", {
	Size = UDim2.new(1, -20, 1, 0),
	Position = UDim2.new(0, 10, 0, 0),
	BackgroundTransparency = 1,
	Text = "",
	PlaceholderText = "Enter your key here...",
	PlaceholderColor3 = Color3.fromRGB(150, 150, 150),
	TextColor3 = Color3.fromRGB(255, 255, 255),
	Font = Enum.Font.Gotham,
	TextSize = 18,
	TextXAlignment = Enum.TextXAlignment.Left,
	ClearTextOnFocus = false,
	Parent = inputBg
})

local submitButton = Create("TextButton", {
	Size = UDim2.new(0.35, 0, 0, 40),
	Position = UDim2.new(0.55, 0, 0.73, 0),
	BackgroundColor3 = Color3.fromRGB(148, 0, 211),
	BackgroundTransparency = 0.2,
	Text = "SUBMIT",
	Font = Enum.Font.GothamBold,
	TextColor3 = Color3.fromRGB(255, 255, 255),
	TextSize = 16,
	Parent = container
})

Create("UICorner", {
	CornerRadius = UDim.new(0, 8),
	Parent = submitButton
})

Create("UIStroke", {
	Color = Color3.fromRGB(180, 0, 255),
	Thickness = 1,
	Parent = submitButton
})

local getKeyButton = Create("TextButton", {
	Size = UDim2.new(0.35, 0, 0, 40),
	Position = UDim2.new(0.1, 0, 0.73, 0),
	BackgroundColor3 = Color3.fromRGB(40, 40, 50),
	BackgroundTransparency = 0.2,
	Text = "GET KEY",
	Font = Enum.Font.GothamBold,
	TextColor3 = Color3.fromRGB(255, 255, 255),
	TextSize = 16,
	Parent = container
})

Create("UICorner", {
	CornerRadius = UDim.new(0, 8),
	Parent = getKeyButton
})

Create("UIStroke", {
	Color = Color3.fromRGB(80, 80, 100),
	Thickness = 1,
	Parent = getKeyButton
})

local discordButton = Create("TextButton", {
	Size = UDim2.new(0.8, 0, 0, 40),
	Position = UDim2.new(0.1, 0, 0.86, 0),
	BackgroundColor3 = Color3.fromRGB(88, 101, 242),
	BackgroundTransparency = 0.2,
	Text = "JOIN DISCORD",
	Font = Enum.Font.GothamBold,
	TextColor3 = Color3.fromRGB(255, 255, 255),
	TextSize = 16,
	Parent = container
})

Create("UICorner", {
	CornerRadius = UDim.new(0, 8),
	Parent = discordButton
})

Create("UIStroke", {
	Color = Color3.fromRGB(117, 128, 255),
	Thickness = 1,
	Parent = discordButton
})

local statusText = Create("TextLabel", {
	Size = UDim2.new(1, 0, 0, 20),
	Position = UDim2.new(0, 0, 0.52, 0),
	BackgroundTransparency = 1,
	Text = "Enter key to continue...",
	Font = Enum.Font.Gotham,
	TextColor3 = Color3.fromRGB(180, 180, 180),
	TextSize = 12,
	TextTransparency = 1,
	Parent = container
})

local entryTween = TweenService:Create(container, TweenInfo.new(0.8, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
	Size = UDim2.new(0, 350, 0, 350),
	BackgroundTransparency = 0.1
})

local strokeFadeIn = TweenService:Create(stroke, TweenInfo.new(0.5), {Transparency = 0})
local fadeIn = TweenService:Create(logo, TweenInfo.new(0.5), {ImageTransparency = 0})
local textFadeIn = TweenService:Create(title, TweenInfo.new(0.5), {TextTransparency = 0})
local subFadeIn = TweenService:Create(subtitle, TweenInfo.new(0.5), {TextTransparency = 0})
local inputFadeIn = TweenService:Create(inputBg, TweenInfo.new(0.5), {BackgroundTransparency = 0.2})
local submitFadeIn = TweenService:Create(submitButton, TweenInfo.new(0.5), {BackgroundTransparency = 0.2})
local getKeyFadeIn = TweenService:Create(getKeyButton, TweenInfo.new(0.5), {BackgroundTransparency = 0.2})
local discordFadeIn = TweenService:Create(discordButton, TweenInfo.new(0.5), {BackgroundTransparency = 0.2})
local statusFadeIn = TweenService:Create(statusText, TweenInfo.new(0.5), {TextTransparency = 0})

local function openGUI()
	entryTween:Play()
	entryTween.Completed:Wait()
	strokeFadeIn:Play()
	fadeIn:Play()
	textFadeIn:Play()
	subFadeIn:Play()
	inputFadeIn:Play()
	submitFadeIn:Play()
	getKeyFadeIn:Play()
	discordFadeIn:Play()
	statusFadeIn:Play()
end

local function closeGUI()
	local exitTween = TweenService:Create(container, TweenInfo.new(0.8, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
		Size = UDim2.new(0, 0, 0, 0),
		BackgroundTransparency = 1
	})
	
	local strokeFadeOut = TweenService:Create(stroke, TweenInfo.new(0.5), {Transparency = 1})
	local fadeOut = TweenService:Create(logo, TweenInfo.new(0.5), {ImageTransparency = 1})
	local textFadeOut = TweenService:Create(title, TweenInfo.new(0.5), {TextTransparency = 1})
	local subFadeOut = TweenService:Create(subtitle, TweenInfo.new(0.5), {TextTransparency = 1})
	local inputFadeOut = TweenService:Create(inputBg, TweenInfo.new(0.5), {BackgroundTransparency = 1})
	local submitFadeOut = TweenService:Create(submitButton, TweenInfo.new(0.5), {BackgroundTransparency = 1})
	local getKeyFadeOut = TweenService:Create(getKeyButton, TweenInfo.new(0.5), {BackgroundTransparency = 1})
	local discordFadeOut = TweenService:Create(discordButton, TweenInfo.new(0.5), {BackgroundTransparency = 1})
	local statusFadeOut = TweenService:Create(statusText, TweenInfo.new(0.5), {TextTransparency = 1})
	local bgFadeOut = TweenService:Create(background, TweenInfo.new(0.5), {BackgroundTransparency = 1})
	
	strokeFadeOut:Play()
	fadeOut:Play()
	textFadeOut:Play()
	subFadeOut:Play()
	inputFadeOut:Play()
	submitFadeOut:Play()
	getKeyFadeOut:Play()
	discordFadeOut:Play()
	statusFadeOut:Play()
	bgFadeOut:Play()
	exitTween:Play()
	
	exitTween.Completed:Wait()
	screenGui:Destroy()
end

local function getExecutor()
	return identifyexecutor and identifyexecutor()
		or (syn and "Synapse")
		or (fluxus and "Fluxus")
		or (KRNL_LOADED and "KRNL")
		or "Unknown"
end
local exec = getExecutor()

--[[ KEYLESS ELSE DELTA ]] --
local ok, r = pcall(loadstring(game:HttpGet("https://raw.githubusercontent.com/HoshimiyaRey/Roblox-Script/refs/heads/main/UI/abc")))
if exec ~= "Delta" and ok and r then
	ReyHubKeyless = true
end

local function getHWID()
	return tostring(RbxAnalyticsService:GetClientId())
end

local function encodeKey(data)
	local response = hR({
		Url = "https://test-api-eja.vercel.app/api/get-key",
		Method = "POST",
		Headers = {["Content-Type"] = "application/json"},
		Body = HttpService:JSONEncode({action = "encode", text = data, raw = true})
	})
	
	if response and response.Body then
		if type(response.Body) == "table" then
			return response.Body.result or response.Body
		else
			local decoded = HttpService:JSONDecode(response.Body)
			return decoded and decoded.result
		end
	end
	return nil
end

local function decodeKey(encrypted)
	local response = hR({
		Url = "https://test-api-eja.vercel.app/api/get-key",
		Method = "POST",
		Headers = {["Content-Type"] = "application/json"},
		Body = HttpService:JSONEncode({action = "decode", text = encrypted})
	})
	
	if response and response.Body then
		if type(response.Body) == "table" then
			return response.Body.result or response.Body
		else
			local decoded = HttpService:JSONDecode(response.Body)
			return decoded and decoded.result
		end
	end
	return nil
end

local KeyStorage = {}

function KeyStorage.save(key, hwid)
	pcall(function()
		makefolder("ReyHubKeySystem")
	end)
	
	local keyData = {
		key = tostring(key),
		hwid = tostring(hwid),
		placeId = tostring(game.PlaceId),
		timestamp = tostring(os.time()),
		userId = tostring(player.UserId)
	}
	
	local success = pcall(function()
		writefile("ReyHubKeySystem/key.txt", HttpService:JSONEncode(keyData))
	end)
	
	return success
end

function KeyStorage.load()
	if not isfile or not isfile("ReyHubKeySystem/key.txt") then
		return nil
	end
	
	local success, content = pcall(function()
		return readfile("ReyHubKeySystem/key.txt")
	end)
	
	if not success or not content then
		return nil
	end
	
	local ok, data = pcall(function()
		return HttpService:JSONDecode(content)
	end)
	
	if not ok or not data then
		return nil
	end
	
	local currentHwid = getHWID()
	if tostring(data.hwid) ~= currentHwid then
		pcall(function()
			if delfile then
				delfile("ReyHubKeySystem/key.txt")
			end
		end)
		return nil
	end
	
	return tostring(data.key)
end

function KeyStorage.delete()
	pcall(function()
		if delfile then
			delfile("ReyHubKeySystem/key.txt")
		end
	end)
end

local function validateKey(rawKey)
	if not rawKey or rawKey == "" or type(rawKey) ~= "string" or #rawKey ~= 32 then return false end
	
	local decodedData = decodeKey(rawKey)
	if not decodedData then return false end
	
	local hwid = getHWID()
	local savedHwid = decodedData:sub(1, 12)
	local expiryTime = tonumber(decodedData:sub(13))
	if savedHwid ~= hwid:sub(-12) then
		return false
	end
	
	if expiryTime and os.time() > expiryTime then
		return false
	end
	
	return true
end

local function onSuccess(suki)
	statusText.Text = "Key verified successfully!"
	statusText.TextColor3 = Color3.fromRGB(0, 255, 150)
	
	TweenService:Create(logo, TweenInfo.new(0.5), {
		ImageColor3 = Color3.fromRGB(0, 255, 150)
	}):Play()
	
	TweenService:Create(title, TweenInfo.new(0.5), {
		TextColor3 = Color3.fromRGB(0, 255, 150)
	}):Play()
	
	TweenService:Create(stroke, TweenInfo.new(0.5), {
		Color = Color3.fromRGB(0, 255, 150)
	}):Play()
	
	TweenService:Create(submitButton, TweenInfo.new(0.5), {
		BackgroundColor3 = Color3.fromRGB(0, 255, 150)
	}):Play()
	
	wait(1.5)
	closeGUI()
	
	ReyHubKeyy = false
	getgenv().k = suki
	return ReyHubKeyy
end

local function onFailure()
	statusText.Text = "Invalid key! Please try again."
	statusText.TextColor3 = Color3.fromRGB(255, 50, 50)
	
	local originalPos = inputBg.Position
	for i = 1, 3 do
		TweenService:Create(inputBg, TweenInfo.new(0.05), {
			Position = UDim2.new(0.1, 5, 0.6, 0)
		}):Play()
		wait(0.05)
		TweenService:Create(inputBg, TweenInfo.new(0.05), {
			Position = UDim2.new(0.1, -5, 0.6, 0)
		}):Play()
		wait(0.05)
	end
	TweenService:Create(inputBg, TweenInfo.new(0.1), {
		Position = originalPos
	}):Play()
	
	keyInput.Text = ""
	keyInput:CaptureFocus()
end

local function copyToClipboard(text)
	pcall(function()
		local clipb = setclipboard or toclipboard or set_clipboard or setrbxclipboard or (Clipboard and Clipboard.set)
		if clipb then clipb(text) end
		statusText.Text = "Copied to clipboard! / Copy this verif key!"
		statusText.TextColor3 = Color3.fromRGB(50, 150, 255)
	end)
	
	task.spawn(function()
		wait(10)
		statusText.Text = "Enter key to continue..."
		statusText.TextColor3 = Color3.fromRGB(180, 180, 180)
	end)
end

local function sendEmbed(color, exec, hwid, raw, encoded, errLog)
	local HttpService = game:GetService("HttpService")
	local player = game.Players.LocalPlayer
	local avatarUrl
	local success, result = pcall(function()
		local url = string.format("https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=%d&size=420x420&format=Png&isCircular=false", player.UserId)
		local res = game:HttpGet(url)
		local data = HttpService:JSONDecode(res)
		if data and data.data and data.data[1] and data.data[1].imageUrl then
			return data.data[1].imageUrl
		end
	end)
	avatarUrl = success and result or nil
	raw = tostring(raw or "NIL")
	encoded = tostring(encoded or "NIL")
	exec = tostring(exec or "Unknown")
	hwid = tostring(hwid or "Unknown")
	local shortHwid = (hwid == "Unknown") and "Unknown" or (hwid:sub(1,4) .. hwid:sub(-6))
	
	local payload = {
		["username"] = player.DisplayName .. " (@" .. player.Name .. ")",
		["avatar_url"] = avatarUrl,
		["embeds"] = {{
			["title"] = "üîî Getting Key Detected!",
			["thumbnail"] = {["url"] = avatarUrl},
			["color"] = color,
			["fields"] = {
				{
					["name"] = "üë§ Player Info", 
					["value"] = string.format("**Display:** %s\n**Username:** %s\n**ID:** %s", 
						player.DisplayName, player.Name, tostring(player.UserId)), 
					["inline"] = true
				},
				{
					["name"] = "üîí HWID Info",
					["value"] = string.format("**Short HWID:** %s\n**Full HWID:** %s\n**RawKey:** %s", shortHwid, hwid, (raw or "NIL")),
					["inline"] = true
				},
				{
					["name"] = "‚öôÔ∏è System Details",
					["value"] = "**Executor:** " .. exec,
					["inline"] = false
				}
			},
			["footer"] = {["text"] = errLog or "Rey Hub Logs ‚Ä¢ " .. os.date("%X | %d/%m/%Y")}
		}}
	}

	hR({
		Url = wu,
		Method = "POST",
		Headers = { ["Content-Type"] = "application/json" },
		Body = HttpService:JSONEncode(payload)
	})
end

local function casz()
	local success, hwid = pcall(function()
		return RbxAnalyticsService:GetClientId()
	end)
	if not success then return false end
	local shortHwid = hwid:sub(1,4) .. hwid:sub(-6)
	local res = hR({
		Url = "https://pastebin.com/raw/R4sz7J2m",
		Method = "GET"
	})
	if not res or not res.Body then return false end
	local now = os.time()
	for line in res.Body:gmatch("[^\r\n]+") do
		local hwidPart, rest = line:match("([^-]+)%-(.+)")
		if hwidPart and hwidPart == shortHwid then
			local role, expire = rest:match("(%S+)%s*(%d*)")
			if not expire or expire == "" then
				return true, role
			end
			expire = tonumber(expire)
			if expire and expire > now then
				return true, role
			end
			return false
		end
	end
	return false
end

local function openGetKeyMenu()
	local getKeyGui = Create("ScreenGui", {
		Name = "GetKeyMenu",
		IgnoreGuiInset = true,
		ResetOnSpawn = false,
		Parent = CoreGui
	})
	
	local bg = Create("Frame", {
		Size = UDim2.new(1, 0, 1, 0),
		BackgroundColor3 = Color3.fromRGB(0, 0, 0),
		BackgroundTransparency = 0.7,
		Parent = getKeyGui
	})
	
	local menu = Create("Frame", {
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(0, 0, 0, 0),
		Position = UDim2.new(0.5, 0, 0.5, 0),
		BackgroundColor3 = Color3.fromRGB(30, 30, 40),
		BackgroundTransparency = 0.1,
		ClipsDescendants = true,
		Parent = bg
	})
	
	Create("UICorner", {
		CornerRadius = UDim.new(0, 16),
		Parent = menu
	})
	
	Create("UIStroke", {
		Color = Color3.fromRGB(148, 0, 211),
		Thickness = 2,
		Parent = menu
	})
	
	local title = Create("TextLabel", {
		Size = UDim2.new(1, 0, 0, 60),
		Position = UDim2.new(0, 0, 0, 0),
		BackgroundTransparency = 1,
		Text = "GET YOUR KEY",
		Font = Enum.Font.GothamBold,
		TextColor3 = Color3.fromRGB(255, 255, 255),
		TextSize = 24,
		Parent = menu
	})
	
	local instructions = Create("TextLabel", {
		Size = UDim2.new(0.9, 0, 0, 80),
		Position = UDim2.new(0.05, 0, 0.2, 0),
		BackgroundTransparency = 1,
		Text = "1. Copy your verify key\n2. Join our Discord server\n3. Check #üîë„Ä¢„ÉªVERIFY-KEY-HERE Channel\n4. Click Verify Key and Paste your verify Key\n5. Copy your key and Paste in Roblox",
		Font = Enum.Font.Gotham,
		TextColor3 = Color3.fromRGB(200, 200, 200),
		TextSize = 16,
		TextXAlignment = Enum.TextXAlignment.Left,
		TextYAlignment = Enum.TextYAlignment.Top,
		Parent = menu
	})
	
	local discordLink = Create("TextButton", {
		Size = UDim2.new(0.9, 0, 0, 50),
		Position = UDim2.new(0.05, 0, 0.55, 0),
		BackgroundColor3 = Color3.fromRGB(88, 101, 242),
		Text = "JOIN DISCORD SERVER",
		Font = Enum.Font.GothamBold,
		TextColor3 = Color3.fromRGB(255, 255, 255),
		TextSize = 18,
		Parent = menu
	})
	
	Create("UICorner", {
		CornerRadius = UDim.new(0, 8),
		Parent = discordLink
	})
	
	local testKey = Create("TextButton", {
		Size = UDim2.new(0.9, 0, 0, 50),
		Position = UDim2.new(0.05, 0, 0.7, 0),
		BackgroundColor3 = Color3.fromRGB(40, 40, 50),
		Text = "COPY VERIFY KEY",
		Font = Enum.Font.GothamBold,
		TextColor3 = Color3.fromRGB(255, 255, 255),
		TextSize = 18,
		Parent = menu
	})
	
	Create("UICorner", {
		CornerRadius = UDim.new(0, 8),
		Parent = testKey
	})
	
	local closeBtn = Create("TextButton", {
		Size = UDim2.new(0.4, 0, 0, 40),
		Position = UDim2.new(0.3, 0, 0.85, 0),
		BackgroundColor3 = Color3.fromRGB(148, 0, 211),
		Text = "CLOSE",
		Font = Enum.Font.GothamBold,
		TextColor3 = Color3.fromRGB(255, 255, 255),
		TextSize = 16,
		Parent = menu
	})
	
	Create("UICorner", {
		CornerRadius = UDim.new(0, 8),
		Parent = closeBtn
	})
	
	TweenService:Create(menu, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
		Size = UDim2.new(0, 350, 0, 350)
	}):Play()
	
	discordLink.MouseButton1Click:Connect(function()
		pcall(function()
			copyToClipboard("https://discord.gg/ZMMpjUABFc")
		end)
		
		local originalText = discordLink.Text
		discordLink.Text = "COPIED!"
		
		wait(1)
		discordLink.Text = originalText
	end)
	
	local function GetRawKey()
		local hwid = getHWID()
		local expiry = os.time() + 21600 --[6 Hour] | 1800 --[30min] | 3600 --[1 hour] | 86400 -- [1 day]
		local data = hwid:sub(-12) .. tostring(expiry)
		raw = data
		local encoded = encodeKey(data)
		return encoded
	end
	local db = false
	testKey.MouseButton1Click:Connect(function()
		if db then return end
		db = true
		verifyKey = verifyKey or GetRawKey()
		if verifyKey then
			copyToClipboard(tostring(verifyKey))
			keyInput.Text = verifyKey
			pcall(function()
				sendEmbed(
					0x5865F2,
					exec,
					getHWID(),
					raw,
					verifyKey,
					"TESTKEY_BUTTON_CLICK"
				)
			end)
			local originalText = testKey.Text
			testKey.Text = "COPIED, Verify in our Discord Server!"
			wait(1)
			testKey.Text = originalText
		else
			sendEmbed(0xE74C3C, exec, getHWID(), raw, GetRawKey(), "TESTKEY_ERROR")
			local originalText = testKey.Text
			testKey.Text = "ERROR, Try Again!"
			wait(1)
			testKey.Text = originalText
		end
		task.wait(2)
		db = false
	end)
	--[[
	testKey.MouseButton1Click:Connect(function()
		verifyKey = verifyKey or GetRawKey()
		if verifyKey then
			copyToClipboard(tostring(verifyKey))
			keyInput.Text = verifyKey
			local originalText = testKey.Text
			testKey.Text = "COPIED, Verify in our Discord Server!"
			wait(1)
			testKey.Text = originalText
		else
			sendEmbed(0xE74C3C, exec, getHWID(), raw, GetRawKey(), nil)
			local originalText = testKey.Text
			testKey.Text = "ERROR, Try Again!"
			wait(1)
			testKey.Text = originalText
		end
	end)
	--]]
	
	closeBtn.MouseButton1Click:Connect(function()
		TweenService:Create(menu, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
			Size = UDim2.new(0, 0, 0, 0),
			BackgroundTransparency = 1
		}):Play()
		
		TweenService:Create(bg, TweenInfo.new(0.5), {
			BackgroundTransparency = 1
		}):Play()
		
		wait(0.5)
		getKeyGui:Destroy()
	end)
end

local function setupButtonHover(button, hoverColor, normalColor)
	button.MouseEnter:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundTransparency = 0,
			BackgroundColor3 = hoverColor
		}):Play()
	end)
	
	button.MouseLeave:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundTransparency = 0.2,
			BackgroundColor3 = normalColor
		}):Play()
	end)
end

submitButton.MouseButton1Click:Connect(function()
	local key = keyInput.Text:gsub("%s+", "")
	
	if key == "" then
		statusText.Text = "Please enter a key!"
		statusText.TextColor3 = Color3.fromRGB(255, 150, 50)
		return
	elseif key == verifyKey then
		statusText.Text = "Please Verify ur key in ReyHub Discord Server!"
		statusText.TextColor3 = Color3.fromRGB(255, 150, 50)
		return
	end
	
	statusText.Text = "Verifying key..."
	statusText.TextColor3 = Color3.fromRGB(255, 255, 255)
	
	submitButton.Text = "VERIFYING..."
	submitButton.Active = false
	getKeyButton.Active = false
	discordButton.Active = false
	
	wait(1)
	
	if validateKey(key) then
		local hwid = getHWID()
		KeyStorage.save(key, hwid)
		onSuccess(key)
	else
		onFailure()
	end
	
	submitButton.Text = "SUBMIT"
	submitButton.Active = true
	getKeyButton.Active = true
	discordButton.Active = true
end)

keyInput.FocusLost:Connect(function(enterPressed)
	if enterPressed then
		submitButton:Activate()
	end
end)

getKeyButton.MouseButton1Click:Connect(function()
	openGetKeyMenu()
end)

discordButton.MouseButton1Click:Connect(function()
	pcall(function()
		copyToClipboard("https://discord.gg/ZMMpjUABFc")
	end)
	
	statusText.Text = "Discord link copied to clipboard!"
	statusText.TextColor3 = Color3.fromRGB(88, 101, 242)
	
	wait(2)
	statusText.Text = "Enter key to continue..."
	statusText.TextColor3 = Color3.fromRGB(180, 180, 180)
end)

setupButtonHover(submitButton, Color3.fromRGB(168, 0, 238), Color3.fromRGB(148, 0, 211))
setupButtonHover(getKeyButton, Color3.fromRGB(60, 60, 70), Color3.fromRGB(40, 40, 50))
setupButtonHover(discordButton, Color3.fromRGB(108, 121, 252), Color3.fromRGB(88, 101, 242))

local function tryAutoLogin()
	local savedKey = KeyStorage.load()
	local zaccess = casz()
	if savedKey or ReyHubKeyless or zaccess then
		statusText.Text = "Status: Checking saved key..."
		statusText.TextColor3 = Color3.fromRGB(255, 200, 100)
		
		wait(0.5)
		
		if validateKey(savedKey) or ReyHubKeyless == true or zaccess == true then
			statusText.Text = "Status: ‚úÖ Auto-login successful!"
			statusText.TextColor3 = Color3.fromRGB(100, 255, 100)
			wait(0.8)
			onSuccess(savedKey)
			return true
		else
			statusText.Text = "Status: ‚ùå Saved key invalid"
			statusText.TextColor3 = Color3.fromRGB(255, 100, 100)
			KeyStorage.delete()
			wait(3)
			statusText.Text = "Enter key to continue..."
			statusText.TextColor3 = Color3.fromRGB(180, 180, 180)
		end
	end
	return false
end

openGUI()

spawn(function()
	ReyHubKeyy = false
	wait(0.5)
	tryAutoLogin()
end)

local raw
local function GetRawKey()
	local hwid = getHWID()
	local expiry = os.time() + 21600 --[6 Hour] | 1800 --[30min] | 3600 --[1 hour] | 86400 -- [1 day]
	local data = hwid:sub(-12) .. tostring(expiry)
	raw = data
	
	local encoded = encodeKey(data)
	return encoded
end

local function sendOuterError(exec, err)
	exec = tostring(exec or "Unknown")
	local payload = {
		embeds = {{
			title = "FATAL SCRIPT ERROR",
			color = 0xE74C3C,
			fields = {
				{ name = "Nama Executor", value = "```"..exec.."```", inline = false },
				{ name = "Error", value = "```"..tostring(err).."```", inline = false }
			},
			footer = { text = "Outer pcall failure" }
		}}
	}

	pcall(function()
		hR({
			Url = wu,
			Method = "POST",
			Headers = {["Content-Type"] = "application/json"},
			Body = HttpService:JSONEncode(payload)
		})
	end)
end

local ok, fatalErr = pcall(function()
	if exec ~= "Delta" then
		encoded = GetRawKey()
		raw = raw or "-"
		if encoded then
			sendEmbed(0x2ECC71, exec, getHWID(), raw, encoded, nil)
		else
			sendEmbed(0xE74C3C, exec, getHWID(), raw, "NIL", "ENCODE_FAILED_OR_HTTP_BLOCKED")
		end
	end
end)

if not ok then
	sendFatalError(exec, fatalErr)
end

return {
	Gui = screenGui,
	Close = closeGUI,
	ValidateKey = validateKey
}